<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>What the hell are Web Components</title>
    <link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Patua+One" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="build/build.css">
  </head>
  <body>
    <article>
      <section>
        <h1>What the hell are Web Components?</h1><img src="images/web-components.svg" style="margin-top: 0px">
        <address class="vcard">
          <div class="author fn">Tim Perry</div>
          <div class="urls"><span><a href="http://twitter.com/pimterry" rel="me" class="nickname url">@pimterry</a></span></div>
          <div class="note bio"><span>Tech Lead &amp; Open-Source Champion at&nbsp;</span><span class="org vcard"><a href="http://softwire.com" rel="group" class="org fn url">Softw<span class="i">i</span>re</a></span></div>
        </address>
      </section>
      <section>
        <h2>Web Components</h2><template id="navbar">
         <style>@import 'http://getbootstrap.com/dist/css/bootstrap.min.css';</style>
         <div class="bs-example bs-navbar-top-example">
           <nav class="navbar navbar-default navbar-inverse" role="navigation">
             <div class="container-fluid">
               <div class="navbar-header">
                 <button type="button" class="navbar-toggle collapsed"
                         data-toggle="collapse"
                         data-target="#bs-example-navbar-collapse-6">
                   <span class="sr-only">Toggle navigation</span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                 </button>
               </div>
               <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6">
                 <ul class="nav navbar-nav">
                   <li class="active"><a href="#">Home</a></li>
                   <li><a href="#">Link</a></li>
                   <li><a href="#">Link</a></li>
                 </ul>
               </div>
             </div>
           </nav>
         </div>
        </template>
        <div class="navbar-target" style="width: 100%"></div>
        <script defer async>
         window.setTimeout(function () {
          var template = document.querySelector("template#navbar");
          var target = document.querySelectorAll(".navbar-target");
          [].forEach.call(target, function(t) {
            var shadow = t.createShadowRoot();
            shadow.appendChild(document.importNode(template.content, true));
          });
         }, 0);
        </script>
      </section>
      <section>
        <h2>Web Components</h2><div class="navbar-target" style="width: 100%"></div>
        <pre style="height: 70%; overflow-x: hidden"><code class="language-markup">&lt;div class="bs-example bs-navbar-top-example"&gt;
  &lt;nav class="navbar navbar-default navbar-inverse" role="navigation"&gt;
    &lt;div class="container-fluid"&gt;
      &lt;div class="navbar-header"&gt;
        &lt;button type="button" class="navbar-toggle collapsed"
                data-toggle="collapse"
                data-target="#bs-example-navbar-collapse-6"&gt;
        &lt;span class="sr-only"&gt;Toggle navigation&lt;/span&gt;
          &lt;span class="icon-bar"&gt;&lt;/span&gt;
          &lt;span class="icon-bar"&gt;&lt;/span&gt;
          &lt;span class="icon-bar"&gt;&lt;/span&gt;
        &lt;/button&gt;
      &lt;/div&gt;
      
      &lt;div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6"&gt;
        &lt;ul class="nav navbar-nav"&gt;
          &lt;li class="active"&gt;&lt;a href="/1"&gt;Home&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href="/2"&gt;Link&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href="/3"&gt;Link&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/nav&gt;
&lt;/div&gt;
</code></pre>
      </section>
      <section>
        <h2>Web Components</h2><div class="navbar-target" style="width: 60%"></div>
        <pre style="min-width:0"><code class="language-markup">&lt;nav-bar&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href="/1"&gt;Home&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="/2"&gt;Link&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="/3"&gt;Link&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav-bar&gt;        
</code></pre>
      </section>
      <section>     <img src="images/softwireLogo.png" alt="Softwire" class="logo-big"></section>
      <section>
        <h2>Web Components</h2>
        <h3>
          <ul class="bullet">
            <li>&lt;Template&gt;</li>
            <li>HTML Imports</li>
            <li>Shadow DOM</li>
            <li>Custom Elements</li>
          </ul>
        </h3>
      </section>
      <section>
        <h2>Current Templates</h2>
        <pre><code class="language-markup">&lt;div id="img-with-caption-template" style="display: none"&gt;
  &lt;img src="/default-image.png" /&gt;
  &lt;h3 class="title"&gt;Super cool image!&lt;/h3&gt;
&lt;/div&gt;
</code></pre>
      </section>
      <section>
        <h2>Current Templates (Knockout)</h2>
        <pre><code class="language-markup">&lt;script type="text/html" id="img-with-caption"&gt;
  &lt;img src="/default-image.png" /&gt;
  &lt;h3 class="title"&gt;Super cool image&lt;/h3&gt;
&lt;/script&gt;
</code></pre>
      </section>
      <section>
        <h2>&lt;Template&gt;</h2>
        <pre><code class="language-markup">&lt;template id="img-with-caption"&gt;
  &lt;img src="/default-image.png" /&gt;
  &lt;h3 class="title"&gt;Super cool image&lt;/h3&gt;
&lt;/template&gt;
</code></pre>
      </section>
      <section>
        <h2>&lt;Template&gt;</h2>
        <pre><code class="language-markup">&lt;template id="img-with-caption"&gt;
  &lt;img src="/default-image.png" /&gt;
  &lt;h3 class="title"&gt;Super cool image&lt;/h3&gt;
&lt;/template&gt;

&lt;script type="text/javascript"&gt;
  var template = document.querySelector("#img-with-caption");
  var content = document.importNode(template.content, true);
  document.body.appendNode(content);
&lt;/script&gt;
</code></pre>
      </section>
      <section>
        <h2>HTML Imports</h2>
        <pre><code class="language-markup">&lt;head&gt;
  &lt;link rel="import" href="otherFile.html" /&gt;
&lt;/head&gt;
</code></pre>
      </section>
      <section>
        <h2>HTML Imports</h2>
        <div class="sideBySide">
          <div>
            <h3>index.html</h3>
            <pre><code class="language-markup">&lt;head&gt;
  &lt;link rel="import"
        href="import.html" /&gt;
&lt;/head&gt;</code></pre>
          </div>
          <div>
            <h3>import.html</h3>
            <pre><code class="language-markup">Some HTML!

&lt;style&gt;
  h1 { font-size: 500%; }
&lt;/style&gt;

&lt;script&gt;
window.aThing = function () {
  ...
}
&lt;/script&gt;
</code></pre>
          </div>
        </div>
      </section>
      <section>
        <h2>Shadow DOM</h2><video src="http://bit.ly/1wMMbE6" controls muted></video>
      </section>
      <section>
        <h2>Shadow DOM</h2>
        <div id="myDiv">Some boring content</div>
        <script type="text/javascript">
           var div = document.querySelector("#myDiv")
           var shadow = div.createShadowRoot();
           shadow.innerHTML = '<h3>Dom-invisible headline!</h3>';
        </script>
        <pre><code class="language-markup">&lt;div id="myDiv"&gt;Some boring content&lt;div&gt;

&lt;script type="text/javascript"&gt;
  var div = document.querySelector("#myDiv")
  var shadow = div.createShadowRoot();
  
  shadow.innerHTML = '&lt;h3&gt;Dom-invisible headline!&lt;/h3&gt;';
&lt;/script&gt;
</code></pre>
      </section>
      <section>
        <h2>Shadow DOM</h2><div id="myDiv2">
           Real content
        </div>
        <script>
        var div = document.querySelector("#myDiv2");
        var shadow = div.createShadowRoot();
        shadow.innerHTML = "<h3>Originally: <content></content></h3>";
        </script>
        <pre><code class="language-markup">&lt;div id="myDiv2"&gt;
  Real content
&lt;/div&gt;

&lt;script type="text/javascript"&gt;
  var div = document.querySelector("#myDiv2")
  var shadow = div.createShadowRoot();
  shadow.innerHTML =
  "&lt;h3&gt;" +
    "Originally: &lt;content&gt;&lt;/content&gt;" +
  "&lt;/h3&gt;";
&lt;/script&gt;
</code></pre>
      </section>
      <section>
        <h2>Custom Elements</h2>
        <pre><code class="language-javascript">document.registerElement('nav-bar');
</code></pre>
        <pre><code class="language-markup">&lt;nav-bar&gt;
  &lt;ul&gt;
    &lt;li&gt;Home&lt;/li&gt;
    &lt;li&gt;Link&lt;/li&gt;
    &lt;li&gt;Link&lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav-bar&gt;
</code></pre>
      </section>
      <section>
        <h2>Custom Elements</h2>
        <pre><code class="language-javascript">var NavBarPrototype = Object.create(HTMLElement.prototype);

NavBarPrototype.doThings = function () { ... }

document.registerElement('nav-bar', {
    prototype: NavBarPrototype
});

...

document.querySelector("nav-bar#my-menu").doThings();
</code></pre>
      </section>
      <section>
        <h2>Custom Elements</h2>
        <pre><code class="language-javascript">var NavBarPrototype = Object.create(HTMLElement.prototype);

NavBarPrototype.createdCallback = function () { ... }

NavBarPrototype.attachedCallback = function () { ... }

NavBarPrototype.detachedCallback = function () { ... }

NavBarPrototype.attributeChangedCallback = function () { ... }

document.registerElement('nav-bar', {
    prototype: NavBarPrototype
});
</code></pre>
      </section>
      <section>
        <h2>Custom Elements</h2>
        <pre><code class="language-javascript">var NavBarPrototype = Object.create(HTMLElement.prototype);

NavBarPrototype.createdCallback = function () {
  this.innerHTML = '&lt;div class="bs-example bs-navbar-top-example"&gt; \
                       &lt;nav class="navbar navbar-default navbar inverse"> \
                       ...';
};

document.registerElement('nav-bar', {
  prototype: NavBarPrototype
});
</code></pre>
      </section>
      <section style="padding: 0">
        <pre style="font-size:70%; padding: 15px 16px !important"><code class="language-javascript">&lt;template id="navBarTemplate"&gt;
  &lt;div class="bs-example bs-navbar-top-example"&gt;
    &lt;nav class="navbar navbar-default navbar inverse"&gt;
      ...
      &lt;content&gt;&lt;/content&gt;
      ...
    &lt/nav&gt;
  &lt/div&gt;
&lt;/template&gt;

&lt;script&gt;
  var NavBarPrototype = Object.create(HTMLElement.prototype);
  
  NavBarPrototype.createdCallback = function () {
    var template = document.querySelector("#navBarTemplate");
    var content = document.importNode(template.content, true);
    this.createShadowRoot().appendNode(content);
  };
  
  document.registerElement('nav-bar', {
    prototype: NavBarPrototype
  });           
&lt;/script&gt;             
</code></pre>
      </section>
      <section>
        <h2 class="full-slide">Let's put it together</h2>
      </section>
      <section>
        <h2>Actually using this?</h2><div id="tableWrapper">
          <table>
            <thead>
              <tr>
                <th rowspan="2"></th>
                <th rowspan="2">Specced</th>
                <th colspan="5">Implementation</th>
              </tr>
              <tr>
                <th>Polyfill</th>
                <th>Chrome / Opera</th>
                <th>Firefox</th>
                <th>Safari</th>
                <th>IE</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th>Templates</th>
                <td class="yes"><a href="https://html.spec.whatwg.org/multipage/scripting.html#the-template-element"></a></td>
                <td class="yes"><a href="#polyfills"></a></td>
                <td class="yes"><a href="http://www.chromestatus.com/features/5207287069147136">Stable</a></td>
                <td class="yes"><a href="http://caniuse.com/#feat=template">Stable</a></td>
                <td class="yes"><a href="http://caniuse.com/#feat=template">8</a></td>
                <td class="no"></td>
              </tr>
              <tr>
                <th>HTML Imports</th>
                <td class="yes"><a href="http://w3c.github.io/webcomponents/spec/imports/"></a></td>
                <td class="yes"><a href="#polyfills"></a></td>
                <td class="yes"><a href="http://www.chromestatus.com/features/5144752345317376">Stable</a></td>
                <td class="kinda"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=877072">Behind flag</a></td>
                <td class="no"></td>
                <td class="no"></td>
              </tr>
              <tr>
                <th>Custom Elements</th>
                <td class="yes"><a href="http://w3c.github.io/webcomponents/spec/custom/"></a></td>
                <td class="yes"><a href="#polyfills"></a></td>
                <td class="yes"><a href="http://www.chromestatus.com/features/4642138092470272">Stable</a></td>
                <td class="yes"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=889230">Behind flag</a></td>
                <td class="no"></td>
                <td class="no"></td>
              </tr>
              <tr>
                <th>Shadow DOM</th>
                <td class="yes"><a href="http://w3c.github.io/webcomponents/spec/shadow/"></a></td>
                <td class="yes"><a href="#polyfills"></a></td>
                <td class="yes"><a href="http://www.chromestatus.com/features/4507242028072960">Stable</a></td>
                <td class="yes"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=806506">Behind flag</a></td>
                <td class="no"></td>
                <td class="no"></td>
              </tr>
            </tbody>
          </table>
        </div>
        <p>(From <a href="http://jonrimmer.github.io/are-we-componentized-yet/">Are We Componentized Yet?</a>)</p>
      </section>
      <section>
        <h2>Frameworks</h2>
        <h3>
          <ul class="bullet">
            <li>Knockout</li>
            <li>Ember</li>
            <li>Angular (in 2.0)</li>
          </ul>
        </h3>
      </section>
      <section>
        <h1>Web components!</h1><br><img src="images/web-components.svg" style="margin-top: 0px">
        <address class="vcard">
          <div class="author fn">Tim Perry</div>
          <div class="urls"><span><a href="http://twitter.com/pimterry" rel="me" class="nickname url">@pimterry</a></span></div>
          <div class="note bio"><span>Tech Lead &amp; Open-Source Champion at&nbsp;</span><span class="org vcard"><a href="http://softwire.com" rel="group" class="org fn url">Softw<span class="i">i</span>re</a></span></div>
        </address>
      </section>
    </article>
    <script src="build/build.js"></script>
  </body>
</html>